### 指针

* 指针是C语言的一个重要组成部分，是C语言的核心、精髓所在，用好指针可以在C语言编程中起到事半功倍的效果。一方面，可以提高程序的编译效率和执行速度以及实现动态的存储分配；另一方面，使用指针可使程序更灵活，便于表示各种数据结构，编写高质量的程序。但是如果使用不当则很容易造成系统错误。许多程序“挂死”往往都是由于错误地使用指针造成的。

* 什么是地址？地址就是内存区中对每个字节的编号。

* 在程序中定义了一个变量，编译器编译的时候就会给该变量在内存中分配一个地址，通过访问这个地址就可以找到所需的变量，这个变量的地址称为该变量的“指针”。

* 如果一个变量的值是另一个变量的地址，则可以理解成第一个变量指向第二个变量。

* 在程序代码中是通过变量名对内存单元进行存取操作的，但是代码经过编译后已经将变量名转换为该变量在内存中的存放地址，对变量值的存取实际上最终都是通过地址进行的。例如：i + j; 其含义是：根据变量名与地址的对应关系，找到变量i的地址1000，然后从1000开始读取4个字节数据放到CPU寄存器中，再找到变量j的地址1004，从1004开始读取4个字节的数据放到CPU的另一个寄存器中，通过CPU的加法中断计算出结果。在低级语言的汇编语言中都是直接通过地址来访问内存单元的，在高级语言中一般使用变量名访问内存单元，但C语言作为高级语言提供了通过地址来访问内存单元的方式。

* 由于通过地址能访问指定的内存存储单元，可以说地址“指向”该内存单元。地址可以形象地称为指针。一个变量的地址称为该变量的指针。如果有一个变量专门用来存放另一个变量的地址，那么这个变量就是指针变量。在C语言中，有专门用来存放内存单元地址的变量类型，即指针类型。
```c
#include <stdio.h>

int main()
{
	/**
	 * "*"表示该变量是一个指针变量，
	 * 类型说明表示本指针变量所指向的变量的数据类型 
	 */
	int *p;
	int a;
	/**
	 * 指针变量的值只能是地址 
	 * C语言提供了地址运算符&来表示变量的地址
	 * &a表示变量a的地址 
	 */
	p = &a;
	
	return 0;
}
```

* 指针变量的引用：引用指针变量是对变量进行间接访问的一种方式。对指针变量的引用形式如下：*指针变量。其含义是引用指针变量所指向的值。
```c
#include <stdio.h>

int main()
{
	/* 从键盘中输入一个数，利用指针的方法将这个数输出 */
	int a, *p = &a; 
	printf("请输入一个数：\n");
	// scanf("%d", &a);
	scanf("%d", p);
	putchar('\n');
	printf("a=%d\n", *p);
	
	return 0;
}
```

* "&"和"\*"运算符： "&"运算符是一个返回操作数内存地址的单目运算符，叫做取地址运算符。"\*"运算符的作用是返回指定的内存地址中存储的值，叫做指针运算符，也是单目运算符。

* "&\*"和"\*&"的区别： &运算符和*运算符的优先级别相同，按从右向左的方法结合。
```c
#include <stdio.h>

int main()
{
	int a, *p = &a; 
	printf("请输入一个数：\n");
	scanf("%d", &a);
	
	putchar('\n');
	/* &* */
	printf("&*p=%d\n", &*p);
	printf("&a=%d\n", &a);
	
	putchar('\n');
	/* *& */
	printf("a=%d\n", a);
	printf("*p=%d\n", *p);
	printf("*&a=%d\n", *&a);
	
	return 0;
}
```
